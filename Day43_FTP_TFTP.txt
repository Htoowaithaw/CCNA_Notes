# **Day 43 | FTP & TFTP | CCNA 200-301 Complete Course**

**Day 43 â€“ FTP & TFTP**

---

### ğŸ§’ Explain Like Iâ€™m 5 (Kid-Level Summary)

- ğŸ—‚ï¸ **FTP** and **TFTP** are both ways to move files from one computer to another.
- ğŸ® Think of it like sending game files from one PC to another.
- ğŸ” **FTP** asks for a **username and password**. Itâ€™s like needing a key to enter.
- ğŸšª **TFTP** doesnâ€™t ask for anything â€” like an open door â€” but itâ€™s **less safe**.
- ğŸ§ƒ TFTP is simple. You can only say â€œGive me that fileâ€ or â€œTake this fileâ€.
- ğŸ“š FTP is smarter. You can ask, â€œWhat files do you have?â€ or â€œCan you make a new folder?â€
- ğŸš“ Use TFTP in safe places (like home), but FTP in public needs extra locks.
- ğŸ”§ Network engineers use these to update Cisco routers with a new system (IOS).

---

### ğŸ‘¨â€ğŸ’» Technical Summary

### ğŸ“ Protocol Purpose

- **FTP (File Transfer Protocol)**
    - Standard since 1971
    - Uses **TCP ports 20 (data)** and **21 (control)**
    - Allows login, navigation, upload/download
    - **No encryption** by default
- **TFTP (Trivial File Transfer Protocol)**
    - Standard since 1981
    - Uses **UDP port 69**
    - Simple read/write only â€” no file listing, deletion, or login
    - No authentication, no encryption

### ğŸ§ª Typical Use Case

- Commonly used to **upgrade IOS** images on Cisco devices
- Transfer files from **FTP/TFTP server** to **router/switch flash memory**

---

### ğŸ”’ FTP Details

- **TCP-based** (connection-oriented)
- Uses two connections:
    - **Control (port 21)** for commands like login, change dir
    - **Data (port 20)** for file transfer
- **Active mode**: server initiates data connection
- **Passive mode**: client initiates data connection (used if behind a firewall)
- FTP uses plain-text credentials unless upgraded (FTPS/SFTP)

---

### â˜ï¸ TFTP Details

- **UDP-based** (connectionless but reliable)
- Basic reliability built-in (ACKs + retransmissions)
- Simpler protocol:
    - Canâ€™t list, delete, or navigate directories
    - Client knows exact filename beforehand
- Uses **Transfer Identifiers (TIDs)**: random UDP ports after initial contact
- Lightweight â€“ ideal for simple transfers in safe environments

---

### ğŸ–¥ï¸ Cisco IOS File System Overview

- View file systems: `show file systems`
- Types:
    - **disk0: / flash: / usbflash0:** â€“ storage
    - **nvram:** â€“ holds startup-config
    - **network:** â€“ external (TFTP, FTP)
- IOS runs from RAM but loads from **flash**

---

### ğŸ“¦ IOS Upgrade via TFTP Example

```
copy tftp: flash:
# Provide server IP and source filename
# Accept default save name or change
```

- Verify with: `show flash`
- Set boot preference:

```
boot system flash:filename.bin
```

- Save config: `write memory` or `copy run start`
- Reboot: `reload`
- Remove old file: `delete flash:oldfile.bin`

---

### ğŸ“¦ IOS Upgrade via FTP Example

```
ip ftp username cisco
ip ftp password cisco
copy ftp: flash:
# Provide IP, filename, destination
```

- Remainder is same as TFTP (boot, save, reload, delete)

---

### ğŸ§  Comparison â€“ FTP vs TFTP

| Feature | FTP | TFTP |
| --- | --- | --- |
| Transport | TCP (Ports 20, 21) | UDP (Port 69) |
| Authentication | Yes (Username/Password) | No |
| Encryption | No (Use FTPS or SFTP) | No |
| Functions | Full (list, delete, dirs) | Simple (upload/download) |
| Mode Support | Active & Passive | N/A |
| Use Case | Secure, large file transfer | Lightweight, quick transfer |

---

### ğŸ“ Command Review

```
copy tftp: flash:
copy ftp: flash:
boot system flash:filename.bin
delete flash:filename.bin
show flash
show version
```

---

### âœ… Quiz Review

1. **Ports for FTP** â€“ TCP 21 (control), TCP 20 (data)
2. **Command for TFTP to flash** â€“ `copy tftp: flash:`
3. **R1 behind firewall?** â€“ Use **FTP passive mode**
4. **File system for startup-config** â€“ `NVRAM`
5. **TFTP limitations** â€“ Canâ€™t list or create directories
6. **Uses UDP?** â€“ TFTP and SNMP (not HTTP/SMTP)